AOS_MAP=format ["%1.%2",missionName,worldName];AOS_SIGNATURE="ARMA2";AOS_SIGNATURE_UTF=toArray format ["""%1""",AOS_SIGNATURE];AOS_SERIALIZE={private ["_a5","_a6","_a7"];if (!isNil "AOS_LOCK") then {waitUntil {isNil "AOS_LOCK"}};AOS_LOCK=true;_a6=_this select 0;_a7=["SERIALIZE",_a6,AOS_MAP];_a5=[AOS_SIGNATURE,_a7,_this select 1];copyToClipboard (str _a5);sleep 0.05;AOS_LOCK=nil;true};AOS_DESERIALIZE={private ["_a16","_a17","_a18","_a19","_a20","_a21"];if (!isNil "AOS_LOCK") then {waitUntil {isNil "AOS_LOCK"}};AOS_LOCK=true;_a20=str ([AOS_SIGNATURE,["DESER_REQ",_this select 0,AOS_MAP],[]]);copyToClipboard _a20;sleep 0.5;_a17=copyFromClipboard;_a18=toArray format ["%1",_a17];if ((count _a18)<((count AOS_SIGNATURE_UTF)+1)) exitWith {nil};_a19=true;for [{_a16=0},{_a16<(count AOS_SIGNATURE_UTF)},{_a16=_a16+1}] do{if ((_a18 select (_a16+1)) !=(AOS_SIGNATURE_UTF select _a16)) then{_a19=false;_a16=(count AOS_SIGNATURE_UTF);}};if (!_a19) exitWith {AOS_LOCK=nil;nil};copyToClipboard "";AOS_LOCK=nil;_a21=call compile _a17;if (isNil "_a21") exitWith {nil};if (((_a21 select 1) select 0) !="DESERIALIZE") exitWith {nil};(_a21 select 2)}